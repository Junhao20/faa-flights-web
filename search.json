[
  {
    "objectID": "maximal-delays.html",
    "href": "maximal-delays.html",
    "title": "Why Your Flight Was Late: A Deep Dive Into U.S. Airline Delays",
    "section": "",
    "text": "Code\nimport pandas as pd\nimport matplotlib.pyplot as plt\nplt.rcParams.update({\n    \"figure.figsize\": (7, 4),\n    \"font.size\": 11,\n    \"axes.labelsize\": 12,\n    \"axes.titlesize\": 13,\n    \"xtick.labelsize\": 10,\n    \"ytick.labelsize\": 10,\n    \"legend.fontsize\": 10,\n    \"axes.grid\": True,\n    \"grid.linestyle\": \"--\",\n    \"grid.alpha\": 0.4,\n    \"figure.dpi\": 120, # download friendly\n})\n\n\n\n\nCode\nimport pandas as pd\nimport matplotlib.pyplot as plt\nq1 = pd.read_csv(\"data/q1_maxdelay_air.csv\")\nq1 = q1[q1[\"Reporting_Airline\"] != \"Reporting_Airline\"].copy()\nq1[\"max_delay\"] = q1[\"max_delay\"].astype(int)\n\nq1 = q1.sort_values(\"max_delay\", ascending=True)\n\nfig, ax = plt.subplots()\nax.barh(q1[\"Reporting_Airline\"], q1[\"max_delay\"])\nax.set_xlabel(\"Maximum departure delay (minutes)\")\nax.set_ylabel(\"Airline\")\nax.set_title(\"Maximum observed departure delay by airline\")\n\nfor i, (delay) in enumerate(q1[\"max_delay\"]):\n    ax.text(delay + 15, i, f\"{delay}\", va=\"center\", fontsize=9)\n\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\nExtremes of late vs early departures by airline (q1 + q2)\n\n\n\nCode\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\n# --- load data (as before) ---\nq1 = pd.read_csv(\"data/q1_maxdelay_air.csv\")\nq2 = pd.read_csv(\"data/q2_max_early_departure_minutes.csv\")\n\n# clean q1 (drop header row accidentally saved as data, if needed)\nq1 = q1[q1[\"Reporting_Airline\"] != \"Reporting_Airline\"].copy()\nq1[\"max_delay\"] = q1[\"max_delay\"].astype(int)\n\n# clean q2\nq2 = q2[q2[\"Reporting_Airline\"] != \"Reporting_Airline\"].copy()\nq2.rename(columns={\"max_early_departure_minutes\": \"max_early\"}, inplace=True)\nq2[\"max_early\"] = q2[\"max_early\"].astype(int)\n\n# merge\nmerged = pd.merge(q1, q2, on=\"Reporting_Airline\", how=\"inner\")\n\n# sort by largest late delay\nmerged = merged.sort_values(\"max_delay\", ascending=True)\n\nairlines   = merged[\"Reporting_Airline\"]\nmax_delay  = merged[\"max_delay\"]\nmax_early  = merged[\"max_early\"]\n\n# for diverging bars: early is negative (left), late is positive (right)\nearly_neg = -max_early\n\nmax_val = max(max_delay.max(), max_early.max())\nxlim = max_val * 1.1\n\nplt.rcParams.update({\n    \"figure.figsize\": (7, 5),\n    \"font.size\": 11,\n    \"axes.grid\": True,\n    \"grid.linestyle\": \"--\",\n    \"grid.alpha\": 0.3,\n    \"figure.dpi\": 120,\n})\n\nfig, ax = plt.subplots()\n\n# bars: early (left, blue) and late (right, red)\nax.barh(airlines, early_neg,  color=\"#1f77b4\", label=\"Maximum early departure\")\nax.barh(airlines, max_delay, color=\"#d62728\", label=\"Maximum late departure\")\n\n# center line at 0\nax.axvline(0, color=\"black\", linewidth=1)\n\nax.set_xlim(-xlim, xlim)\nax.set_xlabel(\"Extreme departure minutes (early to the left, late to the right)\")\nax.set_ylabel(\"Airline\")\nax.set_title(\"Airline extremes: earliest and latest departures\")\n\n# custom x tick labels: show absolute minutes instead of +/- sign\nxticks = ax.get_xticks()\nax.set_xticklabels([f\"{abs(int(x))}\" for x in xticks])\n\nfor y, e, d in zip(airlines, early_neg, max_delay):\n    # early (left)\n    ax.text(e - xlim*0.02, y, f\"{abs(e):.0f}\", va=\"center\", ha=\"right\", fontsize=8)\n    # late (right)\n    ax.text(d + xlim*0.02, y, f\"{d:.0f}\", va=\"center\", ha=\"left\", fontsize=8)\n\nax.legend(loc=\"lower right\", frameon=False)\n\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\nCode\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\n# read\nq3 = pd.read_csv(\"data/q3.csv\")\n\n# drop rows with missing day_name or with the header accidentally repeated\nq3 = q3[q3[\"day_name\"].notna()].copy()\nq3 = q3[q3[\"day_name\"] != \"day_name\"].copy()\n\n# make sure numeric columns are numeric\nq3[\"num_flights\"] = pd.to_numeric(q3[\"num_flights\"], errors=\"coerce\")\nq3[\"day_rank\"]   = pd.to_numeric(q3[\"day_rank\"], errors=\"coerce\")\n\n# drop any rows that still have NaNs in key columns\nq3 = q3.dropna(subset=[\"num_flights\", \"day_rank\"])\n\n# sort by rank (1 = busiest)\nq3_sorted = q3.sort_values(\"day_rank\")\n\n# ----- publication-style bar chart -----\nplt.rcParams.update({\n    \"figure.figsize\": (7, 4),\n    \"font.size\": 11,\n    \"axes.grid\": True,\n    \"grid.linestyle\": \"--\",\n    \"grid.alpha\": 0.3,\n    \"figure.dpi\": 120,\n})\n\nfig, ax = plt.subplots()\n\nx = range(len(q3_sorted))\nax.bar(x, q3_sorted[\"num_flights\"], width=0.6)\n\nax.set_xticks(x)\nax.set_xticklabels(q3_sorted[\"day_name\"])\n\nax.set_xlabel(\"Day of week\")\nax.set_ylabel(\"Number of flights\")\nax.set_title(\"Flight volume by day of week\")\n\n# annotate rank above each bar\ny_offset = q3_sorted[\"num_flights\"].max() * 0.01\nfor i, (_, row) in enumerate(q3_sorted.iterrows()):\n    ax.text(\n        i,\n        row[\"num_flights\"] + y_offset,\n        f\"Rank {int(row['day_rank'])}\",\n        ha=\"center\",\n        va=\"bottom\",\n        fontsize=9,\n    )\n\nplt.tight_layout()\nplt.show()"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Why Your Flight Was Late: A Deep Dive Into U.S. Airline Delays",
    "section": "",
    "text": "Code\nimport sys, packaging, pandas as pd\nprint(\"python exe:\", sys.executable)\nprint(\"packaging:\", packaging.__version__)\nprint(\"pandas:\", pd.__version__)\n\n\npython exe: /Users/fanjunhao/Desktop/sql_final_web/.venv/bin/python\npackaging: 25.0\npandas: 2.3.3\n\n\nSince we are trying to build a publication-level visualization, we are going to use this code as our plotting style\n\n\nCode\nimport pandas as pd\nimport matplotlib.pyplot as plt\nplt.rcParams.update({\n    \"figure.figsize\": (7, 4),\n    \"font.size\": 11,\n    \"axes.labelsize\": 12,\n    \"axes.titlesize\": 13,\n    \"xtick.labelsize\": 10,\n    \"ytick.labelsize\": 10,\n    \"legend.fontsize\": 10,\n    \"axes.grid\": True,\n    \"grid.linestyle\": \"--\",\n    \"grid.alpha\": 0.4,\n    \"figure.dpi\": 120, # download friendly\n})\n\n\n\n\nCode\nimport pandas as pd\nimport matplotlib.pyplot as plt\nq1 = pd.read_csv(\"data/q1_maxdelay_air.csv\")\nq1 = q1[q1[\"Reporting_Airline\"] != \"Reporting_Airline\"].copy()\nq1[\"max_delay\"] = q1[\"max_delay\"].astype(int)\n\nq1 = q1.sort_values(\"max_delay\", ascending=True)\n\nfig, ax = plt.subplots()\nax.barh(q1[\"Reporting_Airline\"], q1[\"max_delay\"])\nax.set_xlabel(\"Maximum departure delay (minutes)\")\nax.set_ylabel(\"Airline\")\nax.set_title(\"Maximum observed departure delay by airline\")\n\nfor i, (delay) in enumerate(q1[\"max_delay\"]):\n    ax.text(delay + 15, i, f\"{delay}\", va=\"center\", fontsize=9)\n\nplt.tight_layout()\nplt.show()"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About the author",
    "section": "",
    "text": "Hi everyone, my name is Hermann Junhao Fan, I am currently a second year graduate student at the Georgetown University, majoring in Data Science and Analytics."
  }
]